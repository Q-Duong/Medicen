var currentTime=JSON.parse(localStorage.getItem("currentTime"))||[],currentLocation=window.location.pathname;function successMsg(e){$(".notifications-popup-success").addClass("active"),$(".notifications-icon").html('<i class="fas fa-solid fa-check notifications-success"></i>'),$(".message-text").text(e),setTimeout((function(){$(".notifications-popup-success").removeClass("active")}),3e3),$(".notifications-close").click((function(){$(".notifications-popup-success").removeClass("active")}))}function errorMsg(e){$(".notifications-popup-error").addClass("active"),$(".notifications-icon").html('<i class="fas fa-times notifications-error"></i>'),$(".message-text").text(e),setTimeout((function(){$(".notifications-popup-error").removeClass("active")}),3e3),$(".notifications-close").click((function(){$(".notifications-popup-error").removeClass("active")}))}function getValues(){return[{name:"order_quantity_details",value:$(".order_quantity_details").val()},{name:"accountant_doctor_read",value:$(".accountant-doctor-read").val()},{name:"accountant_35X43",value:$(".accountant-35X43").val()},{name:"accountant_polime",value:$(".accountant-polime").val()},{name:"accountant_8X10",value:$(".accountant-8X10").val()},{name:"accountant_10X12",value:$(".accountant-10X12").val()},{name:"accountant_note",value:$(".accountant-note").val()},{name:"ord_delivery_date",value:$(".ord_delivery_date").val()}]}function getValuesClone(){return[{name:"ord_cty_name",value:$(".ord-cty-name").val()},{name:"customer_address",value:$(".customer-address").val()},{name:"customer_note",value:$(".customer-note").val()},{name:"customer_name",value:$(".customer-name").val()},{name:"customer_phone",value:$(".customer-phone").val()},{name:"ord_time",value:$(".ord-time").val()},{name:"ord_doctor_read",value:$('input[name="ord_doctor_read"]:checked').val()},{name:"ord_film",value:$('input[name="ord_film"]:checked').val()},{name:"ord_form",value:$('input[name="ord_form"]:checked').val()},{name:"ord_print",value:$('input[name="ord_print"]:checked').val()},{name:"ord_form_print",value:$('input[name="ord_form_print"]:checked').val()},{name:"ord_print_result",value:$('input[name="ord_print_result"]:checked').val()},{name:"ord_film_sheet",value:$('input[name="ord_film_sheet"]:checked').val()},{name:"order_warning",value:$('input[name="order_warning"]:checked').val()},{name:"ord_note",value:$(".ord-note").val()},{name:"ord_deadline",value:$(".ord-deadline").val()}]}function pushCurrentTime(e,d){var t={month:e,year:d};localStorage.setItem("currentTime",JSON.stringify(t))}function shedule(e){jQuery(document).ready((function(d){var t="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",o=d(".csstransitions").length>0;function i(e){this.element=e,this.timeline=this.element.find(".timeline"),this.timelineItems=this.timeline.find("li"),this.timelineItemsNumber=this.timelineItems.length,this.timelineStart=h(this.timelineItems.eq(0).text()),this.timelineUnitDuration=h(this.timelineItems.eq(1).text())-h(this.timelineItems.eq(0).text()),this.eventsWrapper=this.element.find(".events"),this.eventsGroup=this.eventsWrapper.find(".events-group"),this.singleEvents=this.eventsGroup.find(".single-event"),this.eventSlotHeight=this.eventsGroup.eq(0).children(".top-info").outerHeight(),this.modal=this.element.find(".event-modal"),this.modalHeader=this.modal.find(".header"),this.modalHeaderBg=this.modal.find(".header-bg"),this.modalBody=this.modal.find(".body"),this.modalBodyBg=this.modal.find(".body-bg"),this.modalMaxWidth=900,this.modalMaxHeight=640,this.animating=!1,this.initSchedule()}o||(t="noTransition"),i.prototype.initSchedule=function(){this.scheduleReset(),this.initEvents()},i.prototype.scheduleReset=function(){var d=this.mq();"desktop"==d?(this.eventSlotHeight=this.eventsGroup.eq(0).children(".top-info").outerHeight(),this.element.addClass("js-full"),this.placeEvents(),this.element.hasClass("modal-is-open")&&this.checkEventModal(),30==e?this.eventsGroup.children("ul").css({height:"3000px"}):this.eventsGroup.children("ul").css({height:"3100px"})):"mobile"==d?(this.element.removeClass("js-full loading"),this.eventsGroup.children("ul").add(this.singleEvents).removeAttr("style"),this.eventsWrapper.children(".grid-line").remove(),this.element.hasClass("modal-is-open")&&this.checkEventModal()):"desktop"==d&&this.element.hasClass("modal-is-open")?(this.checkEventModal("desktop"),this.element.removeClass("loading")):this.element.removeClass("loading")},i.prototype.initEvents=function(){var e=this;this.singleEvents.each((function(){var t='<span class="event-date">Ngày chụp: '+m(d(this).data("start"))+" - "+m(d(this).data("end"))+"</span>";d(this).children("a").prepend(d(t)),d(this).on("click","a",(function(t){t.preventDefault(),e.animating||e.openModal(d(this))}))})),this.modal.on("click",".close",(function(d){d.preventDefault(),e.animating||e.closeModal(e.eventsGroup.find(".selected-event"))})),this.element.on("click",".cover-layer",(function(d){!e.animating&&e.element.hasClass("modal-is-open")&&e.closeModal(e.eventsGroup.find(".selected-event"))}))},i.prototype.placeEvents=function(){var e=this,t=0;this.singleEvents.each((function(){var o=h(d(this).attr("data-start")),i=h(d(this).attr("data-end")),n=d(this).attr("data-child");1==n?d(this).css({left:"0px"}):2==n?d(this).css({left:"23px"}):d(this).css({right:"0px"}),t=o==i?60:i-o+60;var a=e.eventSlotHeight*(o-e.timelineStart)/e.timelineUnitDuration,s=e.eventSlotHeight*t/e.timelineUnitDuration;d(this).css({top:a-1+"px",height:s+1+"px"})})),this.element.removeClass("loading")},i.prototype.openModal=function(e){var i=this,n=i.mq();const a=new Date,s=new Date(e.find(".event-start-day").html());if(this.animating=!0,this.modalHeader.find(".event-name-id").text(e.find(".event-name-id").text()),this.modalHeader.find(".event-name").text(e.find(".event-name").text()),this.modalHeader.find(".event-name-unit").text(e.find(".event-name-unit").text()),this.modalHeader.find(".event-date").text(e.find(".event-date").text()),this.modal.attr("data-event",e.parent().attr("data-event")),this.modalBody.find(".event-info").load(e.parent().attr("data-content")+".html .event-info > *",(function(e){i.element.addClass("content-loaded")})),this.modalBody.find(".event-car-id").html(e.find(".event-car-id").html()),this.modalBody.find(".event-id").html(e.find(".event-id").html()),this.modalBody.find(".event-unit").html(e.find(".event-unit").html()),this.modalBody.find(".event-ord-unit").html(e.find(".event-unit").html()),this.modalBody.find(".event-cty-name").html(e.find(".event-cty-name").html()),this.modalBody.find(".event-select").html(e.find(".event-select").html()),this.modalBody.find(".event-address").html(e.find(".event-address").html()),""==e.find(".event-note").html()?this.modalBody.find(".event-note").addClass("hidden"):(this.modalBody.find(".event-note").removeClass("hidden"),this.modalBody.find(".event-note-content").html(e.find(".event-note").html())),this.modalBody.find(".event-list-file").html((function(){return'<a href="'+e.find(".event-list-file p").attr("href")+'" target="_blank" class="dowload_file">'+e.find(".event-list-file").text()+' <i class="fa fa-download"></i></a>'})),this.modalBody.find(".event-info-contact").html(e.find(".event-info-contact").html()),this.modalBody.find(".event-time").html(e.find(".event-time").html()),this.modalBody.find(".event-quantity").html(e.find(".event-quantity").html()),0!=e.find(".event-quantity-draft").text()||""!=e.find(".event-note-ktv").text()?(this.modalBody.find(".order_quantity_draft").addClass("hidden"),this.modalBody.find(".event-draft").removeClass("hidden"),this.modalBody.find(".event-draft").html(e.find(".event-quantity-draft").html()+" Cas"),this.modalBody.find(".order_note_ktv").addClass("hidden"),this.modalBody.find(".event-noteKtv").removeClass("hidden"),this.modalBody.find(".event-noteKtv").html(e.find(".event-note-ktv").html()),this.modalBody.find(".send_quantity_draft").addClass("hidden")):(this.modalBody.find(".order_quantity_draft").removeClass("hidden"),this.modalBody.find(".send_quantity_draft").removeClass("hidden"),this.modalBody.find(".order_note_ktv").removeClass("hidden"),this.modalBody.find(".event-noteKtv").addClass("hidden"),this.modalBody.find(".event-draft").addClass("hidden")),this.modalBody.find(".event-doctor-read").html(e.find(".event-doctor-read").html()),this.modalBody.find(".event-film").html(e.find(".event-film").html()),this.modalBody.find(".event-form").html(e.find(".event-form").html()),this.modalBody.find(".event-print").html(e.find(".event-print").html()),this.modalBody.find(".event-form-print").html(e.find(".event-form-print").html()),this.modalBody.find(".event-print-result").html(e.find(".event-print-result").html()),this.modalBody.find(".event-film-sheet").html(e.find(".event-film-sheet").html()),this.modalBody.find(".event-order-note").html(e.find(".event-order-note").html()),this.modalBody.find(".event-deadline").html(e.find(".event-deadline").html()),this.modalBody.find(".event-deliver-results").html(e.find(".event-deliver-results").html()),this.modalBody.find(".event-email").html(e.find(".event-email").html()),this.modalBody.find(".event-quantity").html(e.find(".event-quantity").html()),this.modalBody.find(".event-accountant-note-clone").html(e.find(".event-accountant-note").text()),this.modalBody.find(".event-delivery-date-clone").html(e.find(".event-delivery-date").text()),this.modalBody.find(".event-ord-warning").html(e.find(".event-warning").html()),this.modalBody.find(".event-35X43-clone").html(e.find(".event-35X43").text()),this.modalBody.find(".event-polime-clone").html(e.find(".event-polime").text()),this.modalBody.find(".event-8X10-clone").html(e.find(".event-8X10").text()),this.modalBody.find(".event-10X12-clone").html(e.find(".event-10X12").text()),this.modalBody.find(".event-accountant-doctor-read-clone").html(e.find(".event-accountant-doctor-read").text()),s<a?(this.modalBody.find(".section-form-sale").html(""),this.modalBody.find(".row").addClass("hidden"),this.modalBody.find(".ord-cty-name").addClass("hidden"),this.modalBody.find(".event-ord-cty-name").html(e.find(".event-cty-name").html()),this.modalBody.find(".customer-address").addClass("hidden"),this.modalBody.find(".event-customer-address").html(e.find(".event-address").html()),this.modalBody.find(".customer-note").addClass("hidden"),this.modalBody.find(".event-customer-note").html(e.find(".event-note").html()),this.modalBody.find(".customer-name").addClass("hidden"),this.modalBody.find(".event-customer-name").html(e.find(".event-customer-name").html()),this.modalBody.find(".customer-phone").addClass("hidden"),this.modalBody.find(".event-customer-phone").html(e.find(".event-customer-phone").html()),this.modalBody.find(".ord-time").addClass("hidden"),this.modalBody.find(".event-ord-time").html(e.find(".event-time").html()),this.modalBody.find(".event-ord-doctor-read").html(e.find(".event-doctor-read").html()),this.modalBody.find(".event-ord-film").html(e.find(".event-film").html()),this.modalBody.find(".event-ord-form").html(e.find(".event-form").html()),this.modalBody.find(".event-ord-print").html(e.find(".event-print").html()),this.modalBody.find(".event-ord-form-print").html(e.find(".event-form-print").html()),this.modalBody.find(".event-ord-print-result").html(e.find(".event-print-result").html()),this.modalBody.find(".event-ord-film-sheet").html(e.find(".event-film-sheet").html()),this.modalBody.find(".event-order-warning").html(e.find(".event-warning").html()),this.modalBody.find(".ord-note").addClass("hidden"),this.modalBody.find(".ord-deadline").addClass("hidden"),this.modalBody.find(".event-ord-deadline").html(e.find(".event-deadline").html()),this.modalBody.find(".ord-deliver-results").addClass("hidden"),this.modalBody.find(".event-deliver-results").html(e.find(".event-deliver-results").html()),this.modalBody.find(".event-email").html(e.find(".event-email").html())):(this.modalBody.find(".section-form-sale").html('<button type="button" name="update_order"  class="primary-btn-submit update-order">Cập nhật</button>'),this.modalBody.find(".row").removeClass("hidden"),this.modalBody.find(".ord-cty-name").removeClass("hidden"),this.modalBody.find(".event-ord-cty-name").html(""),this.modalBody.find(".customer-address").removeClass("hidden"),this.modalBody.find(".event-customer-address").html(""),this.modalBody.find(".customer-note").removeClass("hidden"),this.modalBody.find(".event-customer-note").html(""),this.modalBody.find(".customer-name").removeClass("hidden"),this.modalBody.find(".event-customer-name").html(""),this.modalBody.find(".customer-phone").removeClass("hidden"),this.modalBody.find(".event-customer-phone").html(""),this.modalBody.find(".ord-time").removeClass("hidden"),this.modalBody.find(".event-ord-time").html(""),this.modalBody.find(".event-ord-doctor-read").html(""),this.modalBody.find(".event-ord-film").html(""),this.modalBody.find(".event-ord-form").html(""),this.modalBody.find(".event-ord-print").html(""),this.modalBody.find(".event-ord-form-print").html(""),this.modalBody.find(".event-ord-print-result").html(""),this.modalBody.find(".event-ord-film-sheet").html(""),this.modalBody.find(".event-order-warning").html(""),this.modalBody.find(".ord-note").removeClass("hidden"),this.modalBody.find(".ord-deadline").removeClass("hidden"),this.modalBody.find(".event-ord-deadline").html("")),3==e.find(".event-status").text()?(this.modalBody.find(".order_quantity_details").addClass("hidden"),this.modalBody.find(".send_quantity_details").addClass("hidden"),this.modalBody.find(".event-quantity-details").removeClass("hidden"),this.modalBody.find(".event-quantity-details").html(e.find(".event-quantity").html()),this.modalBody.find(".section-form-sale").html(""),this.modalBody.find(".row-datails").addClass("hidden"),this.modalBody.find(".event-ord-form").html(e.find(".event-form").html()),this.modalBody.find(".event-35X43").html(e.find(".event-35X43").text()),this.modalBody.find(".accountant-35X43").addClass("hidden"),this.modalBody.find(".event-polime").html(e.find(".event-polime").text()),this.modalBody.find(".accountant-polime").addClass("hidden"),this.modalBody.find(".event-8X10").html(e.find(".event-8X10").text()),this.modalBody.find(".accountant-8X10").addClass("hidden"),this.modalBody.find(".event-10X12").html(e.find(".event-10X12").text()),this.modalBody.find(".accountant-10X12").addClass("hidden"),this.modalBody.find(".event-accountant-note").html(e.find(".event-accountant-note").text()),this.modalBody.find(".accountant-note").addClass("hidden"),this.modalBody.find(".event-delivery-date").html(e.find(".event-delivery-date").text()),this.modalBody.find(".ord_delivery_date").addClass("hidden"),this.modalBody.find(".event-accountant-doctor-read").html(e.find(".event-accountant-doctor-read").text()),this.modalBody.find(".accountant-doctor-read").addClass("hidden")):(this.modalBody.find(".order_quantity_details").removeClass("hidden"),this.modalBody.find(".order_quantity_details").val(e.find(".event-quantity").text()),this.modalBody.find(".send_quantity_details").removeClass("hidden"),this.modalBody.find(".event-quantity-details").addClass("hidden"),this.modalBody.find(".row-datails").removeClass("hidden"),this.modalBody.find(".accountant-35X43").removeClass("hidden"),this.modalBody.find(".event-35X43").html(""),this.modalBody.find(".accountant-35X43").val(e.find(".event-35X43").text()),this.modalBody.find(".accountant-polime").removeClass("hidden"),this.modalBody.find(".event-polime").html(""),this.modalBody.find(".accountant-polime").val(e.find(".event-polime").text()),this.modalBody.find(".accountant-8X10").removeClass("hidden"),this.modalBody.find(".event-8X10").html(""),this.modalBody.find(".accountant-8X10").val(e.find(".event-8X10").text()),this.modalBody.find(".accountant-10X12").removeClass("hidden"),this.modalBody.find(".event-10X12").html(""),this.modalBody.find(".accountant-10X12").val(e.find(".event-10X12").text()),this.modalBody.find(".accountant-note").removeClass("hidden"),this.modalBody.find(".event-accountant-note").html(""),this.modalBody.find(".accountant-note").val(e.find(".event-accountant-note").text()),this.modalBody.find(".ord_delivery_date").removeClass("hidden"),this.modalBody.find(".event-delivery-date").html(""),this.modalBody.find(".ord_delivery_date").val(e.find(".event-delivery-date").text()),this.modalBody.find(".event-accountant-doctor-read").html(""),this.modalBody.find(".accountant-doctor-read").removeClass("hidden"),"Nhân"==e.find(".event-accountant-doctor-read").html()?(this.modalBody.find(".doctor-N").prop("selected",!0),this.modalBody.find(".doctor-T").prop("selected",!1),this.modalBody.find(".doctor-G").prop("selected",!1),this.modalBody.find(".doctor-empty").prop("selected",!1)):"Trung"==e.find(".event-accountant-doctor-read").html()?(this.modalBody.find(".doctor-T").prop("selected",!0),this.modalBody.find(".doctor-N").prop("selected",!1),this.modalBody.find(".doctor-G").prop("selected",!1),this.modalBody.find(".doctor-empty").prop("selected",!1)):"Giang"==e.find(".event-accountant-doctor-read").html()?(this.modalBody.find(".doctor-G").prop("selected",!0),this.modalBody.find(".doctor-T").prop("selected",!1),this.modalBody.find(".doctor-N").prop("selected",!1),this.modalBody.find(".doctor-empty").prop("selected",!1)):(this.modalBody.find(".doctor-empty").prop("selected",!0),this.modalBody.find(".doctor-G").prop("selected",!1),this.modalBody.find(".doctor-N").prop("selected",!1),this.modalBody.find(".doctor-T").prop("selected",!1))),2==e.find(".event-status").text()&&this.modalBody.find(".section-form-sale").html(""),1==e.find(".event-status").html()?(this.modalBody.find(".event-status").html("Đang xử lý"),this.modalBody.find(".event-status").removeClass("updated"),this.modalBody.find(".event-status").removeClass("processed"),this.modalBody.find(".event-status").removeClass("update-acc"),this.modalBody.find(".event-status").addClass("processing")):2==e.find(".event-status").html()?(this.modalBody.find(".event-status").html("Đã cập nhật số Cas thực tế"),this.modalBody.find(".event-status").removeClass("processing"),this.modalBody.find(".event-status").removeClass("processed"),this.modalBody.find(".event-status").removeClass("update-acc"),this.modalBody.find(".event-status").addClass("updated")):4==e.find(".event-status").html()?(this.modalBody.find(".event-status").html("Đã cập nhật doanh thu"),this.modalBody.find(".event-status").addClass("update-acc"),this.modalBody.find(".event-status").removeClass("processing"),this.modalBody.find(".event-status").removeClass("processed"),this.modalBody.find(".event-status").removeClass("updated")):(this.modalBody.find(".event-status").html("Đã xử lý"),this.modalBody.find(".event-status").removeClass("updated"),this.modalBody.find(".event-status").removeClass("processing"),this.modalBody.find(".event-status").removeClass("update-acc"),this.modalBody.find(".event-status").addClass("processed")),this.modalBody.find(".ord-unit").val(e.find(".event-name-unit").text().replace("Đơn vị:","")),this.modalBody.find(".code-unit").val(e.find(".event-code-unit").text()),this.modalBody.find(".ord-cty-name").val(e.find(".event-cty-name").text()),this.modalBody.find(".customer-address").val(e.find(".event-address").text()),this.modalBody.find(".customer-note").val(e.find(".event-note").text()),this.modalBody.find(".customer-name").val(e.find(".event-customer-name").text()),this.modalBody.find(".customer-phone").val(e.find(".event-customer-phone").text()),this.modalBody.find(".ord-time").val(e.find(".event-time").text()),this.modalBody.find(".ord-note").val(e.find(".event-order-note").text()),this.modalBody.find(".ord-deadline").val(e.find(".event-deadline").text()),this.modalBody.find(".ord-deliver-results").val(e.find(".event-deliver-results").text()),""==e.find(".event-doctor-read").html()?(this.modalBody.find("#id1").prop("checked",!0),this.modalBody.find("#id2").prop("checked",!1),this.modalBody.find("#id3").prop("checked",!1)):"Có"==e.find(".event-doctor-read").html()?(this.modalBody.find("#id1").prop("checked",!1),this.modalBody.find("#id2").prop("checked",!0),this.modalBody.find("#id3").prop("checked",!1)):(this.modalBody.find("#id1").prop("checked",!1),this.modalBody.find("#id2").prop("checked",!1),this.modalBody.find("#id3").prop("checked",!0)),""==e.find(".event-film").html()?(this.modalBody.find("#id4").prop("checked",!0),this.modalBody.find("#id5").prop("checked",!1),this.modalBody.find("#id6").prop("checked",!1),this.modalBody.find("#id7").prop("checked",!1)):"Bình thường"==e.find(".event-film").html()?(this.modalBody.find("#id4").prop("checked",!1),this.modalBody.find("#id5").prop("checked",!0),this.modalBody.find("#id6").prop("checked",!1),this.modalBody.find("#id7").prop("checked",!1)):"Bất thường"==e.find(".event-film").html()?(this.modalBody.find("#id4").prop("checked",!1),this.modalBody.find("#id5").prop("checked",!1),this.modalBody.find("#id6").prop("checked",!0),this.modalBody.find("#id7").prop("checked",!1)):(this.modalBody.find("#id4").prop("checked",!1),this.modalBody.find("#id5").prop("checked",!1),this.modalBody.find("#id6").prop("checked",!1),this.modalBody.find("#id7").prop("checked",!0)),"ko in"==e.find(".event-form").html()?(this.modalBody.find("#id8").prop("checked",!0),this.modalBody.find("#id9").prop("checked",!1),this.modalBody.find("#id10").prop("checked",!1),this.modalBody.find("#id11").prop("checked",!1),this.modalBody.find("#id12").prop("checked",!1),this.modalBody.find("#id13").prop("checked",!1),this.modalBody.find("#id14").prop("checked",!1),this.modalBody.find("#id32").prop("checked",!1)):"IN4"==e.find(".event-form").html()?(this.modalBody.find("#id8").prop("checked",!1),this.modalBody.find("#id9").prop("checked",!0),this.modalBody.find("#id10").prop("checked",!1),this.modalBody.find("#id11").prop("checked",!1),this.modalBody.find("#id12").prop("checked",!1),this.modalBody.find("#id13").prop("checked",!1),this.modalBody.find("#id14").prop("checked",!1),this.modalBody.find("#id32").prop("checked",!1)):"IN12"==e.find(".event-form").html()?(this.modalBody.find("#id8").prop("checked",!1),this.modalBody.find("#id9").prop("checked",!1),this.modalBody.find("#id10").prop("checked",!0),this.modalBody.find("#id11").prop("checked",!1),this.modalBody.find("#id12").prop("checked",!1),this.modalBody.find("#id13").prop("checked",!1),this.modalBody.find("#id14").prop("checked",!1),this.modalBody.find("#id32").prop("checked",!1)):"IN16"==e.find(".event-form").html()?(this.modalBody.find("#id8").prop("checked",!1),this.modalBody.find("#id9").prop("checked",!1),this.modalBody.find("#id10").prop("checked",!1),this.modalBody.find("#id11").prop("checked",!0),this.modalBody.find("#id12").prop("checked",!1),this.modalBody.find("#id13").prop("checked",!1),this.modalBody.find("#id14").prop("checked",!1),this.modalBody.find("#id32").prop("checked",!1)):"IN8X10"==e.find(".event-form").html()?(this.modalBody.find("#id8").prop("checked",!1),this.modalBody.find("#id9").prop("checked",!1),this.modalBody.find("#id10").prop("checked",!1),this.modalBody.find("#id11").prop("checked",!1),this.modalBody.find("#id12").prop("checked",!0),this.modalBody.find("#id13").prop("checked",!1),this.modalBody.find("#id14").prop("checked",!1),this.modalBody.find("#id32").prop("checked",!1)):"IN10X12"==e.find(".event-form").html()?(this.modalBody.find("#id8").prop("checked",!1),this.modalBody.find("#id9").prop("checked",!1),this.modalBody.find("#id10").prop("checked",!1),this.modalBody.find("#id11").prop("checked",!1),this.modalBody.find("#id12").prop("checked",!1),this.modalBody.find("#id13").prop("checked",!0),this.modalBody.find("#id14").prop("checked",!1),this.modalBody.find("#id32").prop("checked",!1)):"PhimLon"==e.find(".event-form").html()?(this.modalBody.find("#id8").prop("checked",!1),this.modalBody.find("#id9").prop("checked",!1),this.modalBody.find("#id10").prop("checked",!1),this.modalBody.find("#id11").prop("checked",!1),this.modalBody.find("#id12").prop("checked",!1),this.modalBody.find("#id13").prop("checked",!1),this.modalBody.find("#id14").prop("checked",!0),this.modalBody.find("#id32").prop("checked",!1)):(this.modalBody.find("#id8").prop("checked",!1),this.modalBody.find("#id9").prop("checked",!1),this.modalBody.find("#id10").prop("checked",!1),this.modalBody.find("#id11").prop("checked",!1),this.modalBody.find("#id12").prop("checked",!1),this.modalBody.find("#id13").prop("checked",!1),this.modalBody.find("#id14").prop("checked",!1),this.modalBody.find("#id32").prop("checked",!0)),""==e.find(".event-print").html()?(this.modalBody.find("#id15").prop("checked",!0),this.modalBody.find("#id16").prop("checked",!1),this.modalBody.find("#id17").prop("checked",!1),this.modalBody.find("#id18").prop("checked",!1)):"Bình thường"==e.find(".event-print").html()?(this.modalBody.find("#id15").prop("checked",!1),this.modalBody.find("#id16").prop("checked",!0),this.modalBody.find("#id17").prop("checked",!1),this.modalBody.find("#id18").prop("checked",!1)):"Bất thường"==e.find(".event-print").html()?(this.modalBody.find("#id15").prop("checked",!1),this.modalBody.find("#id16").prop("checked",!1),this.modalBody.find("#id17").prop("checked",!0),this.modalBody.find("#id18").prop("checked",!1)):(this.modalBody.find("#id15").prop("checked",!1),this.modalBody.find("#id16").prop("checked",!1),this.modalBody.find("#id17").prop("checked",!1),this.modalBody.find("#id18").prop("checked",!0)),""==e.find(".event-form-print").html()?(this.modalBody.find("#id19").prop("checked",!0),this.modalBody.find("#id20").prop("checked",!1),this.modalBody.find("#id21").prop("checked",!1)):"A4"==e.find(".event-form-print").html()?(this.modalBody.find("#id19").prop("checked",!1),this.modalBody.find("#id20").prop("checked",!0),this.modalBody.find("#id21").prop("checked",!1)):(this.modalBody.find("#id19").prop("checked",!1),this.modalBody.find("#id20").prop("checked",!1),this.modalBody.find("#id21").prop("checked",!0)),""==e.find(".event-print-result").html()?(this.modalBody.find("#id22").prop("checked",!0),this.modalBody.find("#id23").prop("checked",!1),this.modalBody.find("#id24").prop("checked",!1)):"Có"==e.find(".event-print-result").html()?(this.modalBody.find("#id22").prop("checked",!1),this.modalBody.find("#id23").prop("checked",!0),this.modalBody.find("#id24").prop("checked",!1)):(this.modalBody.find("#id22").prop("checked",!1),this.modalBody.find("#id23").prop("checked",!1),this.modalBody.find("#id24").prop("checked",!0)),""==e.find(".event-film-sheet").html()?(this.modalBody.find("#id25").prop("checked",!0),this.modalBody.find("#id26").prop("checked",!1),this.modalBody.find("#id27").prop("checked",!1),this.modalBody.find("#id28").prop("checked",!1)):"Bấm flim vào phiếu"==e.find(".event-film-sheet").html()?(this.modalBody.find("#id25").prop("checked",!1),this.modalBody.find("#id26").prop("checked",!0),this.modalBody.find("#id27").prop("checked",!1),this.modalBody.find("#id28").prop("checked",!1)):"Bỏ flim và phiếu vào bao thư"==e.find(".event-film-sheet").html()?(this.modalBody.find("#id25").prop("checked",!1),this.modalBody.find("#id26").prop("checked",!1),this.modalBody.find("#id27").prop("checked",!0),this.modalBody.find("#id28").prop("checked",!1)):(this.modalBody.find("#id25").prop("checked",!1),this.modalBody.find("#id26").prop("checked",!1),this.modalBody.find("#id27").prop("checked",!1),this.modalBody.find("#id28").prop("checked",!0)),"Có"==e.find(".event-warning").html()?(this.modalBody.find("#id29").prop("checked",!1),this.modalBody.find("#id30").prop("checked",!0)):(this.modalBody.find("#id29").prop("checked",!0),this.modalBody.find("#id30").prop("checked",!1)),this.element.addClass("modal-is-open"),setTimeout((function(){e.parent("li").addClass("selected-event")}),10),"mobile"==n)i.modal.one(t,(function(){i.modal.off(t),i.animating=!1}));else{var l=e.offset().top-d(window).scrollTop(),h=e.offset().left,m=(e.innerHeight(),e.innerWidth()),c=d(window).width(),f=d(window).height(),p=.8*c>i.modalMaxWidth?i.modalMaxWidth:.8*c,u=.8*f>i.modalMaxHeight?i.modalMaxHeight:.8*f,v=parseInt((c-p)/2-h),y=parseInt((f-u)/2-l);i.modal.css({top:l+"px",left:h+"px",height:u+"px",width:p+"px"}),r(i.modal,"translateY("+y+"px) translateX("+v+"px)"),i.modalHeader.css({width:m+"px"}),i.modalBody.css({marginLeft:m+"px"}),i.modalHeaderBg.css({width:m+"px"}),i.modalHeaderBg.one(t,(function(){i.modalHeaderBg.off(t),i.animating=!1,i.element.addClass("animation-completed")}))}o||i.modal.add(i.modalHeaderBg).trigger(t)},i.prototype.closeModal=function(e){var i=this,n=i.mq();if(this.animating=!0,"mobile"==n)this.element.removeClass("modal-is-open"),this.modal.one(t,(function(){i.modal.off(t),i.animating=!1,i.element.removeClass("content-loaded"),e.removeClass("selected-event")}));else{var a=e.offset().top-d(window).scrollTop(),s=e.offset().left,l=e.innerHeight(),h=e.innerWidth(),m=Number(i.modal.css("top").replace("px","")),c=s-Number(i.modal.css("left").replace("px","")),f=a-m;i.element.removeClass("animation-completed modal-is-open"),this.modal.css({width:h+"px",height:l+"px"}),r(i.modal,"translateX("+c+"px) translateY("+f+"px)"),r(i.modalBodyBg,"scaleX(0) scaleY(1)"),r(i.modalHeaderBg,"scaleY(1)"),this.modalHeaderBg.one(t,(function(){i.modalHeaderBg.off(t),i.modal.addClass("no-transition"),setTimeout((function(){i.modal.add(i.modalHeader).add(i.modalBody).add(i.modalHeaderBg).add(i.modalBodyBg).attr("style","")}),10),setTimeout((function(){i.modal.removeClass("no-transition")}),20),i.animating=!1,i.element.removeClass("content-loaded"),e.removeClass("selected-event")}))}o||i.modal.add(i.modalHeaderBg).trigger(t)},i.prototype.mq=function(){return window.getComputedStyle(this.element.get(0),"::before").getPropertyValue("content").replace(/["']/g,"")},i.prototype.checkEventModal=function(e){this.animating=!0;var t=this,o=this.mq();if("mobile"==o)t.modal.add(t.modalHeader).add(t.modalHeaderBg).add(t.modalBody).add(t.modalBodyBg).attr("style",""),t.modal.removeClass("no-transition"),t.animating=!1;else if("desktop"==o&&t.element.hasClass("modal-is-open")){t.modal.addClass("no-transition"),t.element.addClass("animation-completed");var i=t.eventsGroup.find(".selected-event"),n=(i.offset().top,d(window).scrollTop(),i.offset().left,i.innerHeight(),i.innerWidth()),a=d(window).width(),s=d(window).height(),l=.8*a>t.modalMaxWidth?t.modalMaxWidth:.8*a,h=.8*s>t.modalMaxHeight?t.modalMaxHeight:.8*s;setTimeout((function(){t.modal.css({width:l+"px",height:h+"px",top:s/2-h/2+"px",left:a/2-l/2+"px"}),r(t.modal,"translateY(0) translateX(0)"),t.modalHeader.css({width:n+"px"}),t.modalBody.css({marginLeft:n+"px"}),t.modalHeaderBg.css({width:n+"px"})}),10),setTimeout((function(){t.modal.removeClass("no-transition"),t.animating=!1}),20)}};var n=d(".cd-schedule"),a=[],s=!1;function l(){a.forEach((function(e){e.scheduleReset()})),s=!1}function h(e){var d=(e=e.replace(/ /g,"")).split("/");return 60*parseInt(d[0])}function m(e){var d=(e=e.replace(/ /g,"")).split("/");return d[0]+"/"+d[1]}function r(e,d){e.css({"-moz-transform":d,"-webkit-transform":d,"-ms-transform":d,"-o-transform":d,transform:d})}n.length>0&&n.each((function(){a.push(new i(d(this)))})),d(window).on("resize",(function(){s||(s=!0,window.requestAnimationFrame?window.requestAnimationFrame(l):setTimeout(l))})),d(window).keyup((function(e){27==e.keyCode&&a.forEach((function(e){e.closeModal(e.eventsGroup.find(".selected-event"))}))}))}))}$(document).ready((function(){setTimeout((function(){$(".notifications-popup-success").removeClass("active")}),3e3),setTimeout((function(){$(".notifications-popup-error").removeClass("active")}),3e3)})),"/show-schedule-details"==currentLocation?$.ajax({url:url_get_schedule_details,method:"POST",data:{_token:_token,currentTime:currentTime},success:function(e){$(".schedule-render").html(e.html),shedule(e.day)}}):shedule(day),$(".select-month").on("change",(function(){var e=$(this).val(),d=$(".select-year").val();$(".loader").fadeIn(),$("#preloder").fadeIn("slow"),$.ajax({url:url_select_month,method:"POST",data:{_token:_token,year:d,month:e},success:function(e){shedule(e.day),$(".cd-schedule").html(e.html),$(".loader").fadeOut(),$("#preloder").fadeOut("slow")}})})),$(document).on("change",".select-month-details",(function(){var e=$(this).val(),d=$(".select-year-details").val();$(".loader").fadeIn(),$("#preloder").fadeIn("slow"),$.ajax({url:url_select_month_details,method:"POST",data:{_token:_token,year:d,month:e},success:function(t){pushCurrentTime(e,d),shedule(t.day),$(".schedule").html(t.html),$(".loader").fadeOut(),$("#preloder").fadeOut("slow")}})})),$(document).on("click",".btn-schedule-search",(function(){$("input[name=search-keywords]").focus(),$(".schedule-search").addClass("search-show"),$(".btn-search").html('<button class="btn-close-search"><i class="fas fa-times"></i></button>'),$(".search-results").addClass("search-results-show")})),$(document).on("click",".btn-close-search",(function(){var e=$(".select-month-details").val(),d=$(".select-year-details").val();$(".schedule-search").removeClass("search-show"),$(".btn-search").html('<button class="btn-schedule-search"><i class="fas fa-search"></i></button>'),$(".search-results").removeClass("search-results-show"),$(".schedule-search").val(""),$(".loader").fadeIn(),$("#preloder").fadeIn("slow"),$.ajax({url:url_select_month_details,method:"POST",data:{_token:_token,year:d,month:e},success:function(e){shedule(e.day),$(".schedule").html(e.html),$(".loader").fadeOut(),$("#preloder").fadeOut("slow")}})})),$(document).on("keyup",".schedule-search",(function(){var e=$(this).val(),d=JSON.parse(localStorage.getItem("currentTime"))||[];""!=e?$.ajax({url:url_suggest_schedule_search,method:"POST",data:{currentTime:d,query:e,_token:_token},success:function(e){$(".search-results").addClass("search-results-show"),$(".search-results").html(e.html)}}):($(".search-results").removeClass("search-results-show"),$(".search-results").html(""))})),$(document).on("click",".li_search",(function(){var e=$(this).text(),d=JSON.parse(localStorage.getItem("currentTime"))||[];$(".loader").fadeIn(),$("#preloder").fadeIn("slow"),$(".search-results").removeClass("search-results-show"),$(".search-results").html(""),$(".schedule-search").val(e),$.ajax({url:url_schedule_search,method:"POST",data:{currentTime:d,value:e,_token:_token},success:function(e){shedule(e.day),$(".schedule").html(e.html),$(".loader").fadeOut(),$("#preloder").fadeOut("slow")}})})),$(".select-month-details-clone").on("change",(function(){var e=$(this).val(),d=$(".select-year-details-clone").val();$(".loader").fadeIn(),$("#preloder").fadeIn("slow"),$.ajax({url:url_select_month_details_clone,method:"POST",data:{_token:_token,year:d,month:e},success:function(e){shedule(e.day),$(".schedule").html(e.html),$(".loader").fadeOut(),$("#preloder").fadeOut("slow")}})})),$(".select-year").on("change",(function(){$(".define-month").prop("selected",!0)})),$(document).on("change",".select-year-details",(function(){$(".define-month-details").prop("selected",!0)})),$(".select-year-details-clone").on("change",(function(){$(".define-month-details-clone").prop("selected",!0)})),$(document).on("click",".send_quantity_draft",(function(){var e=$(".event-info").find(".event-id").text(),d=$(".order_quantity_draft").val(),t=$(".order_note_ktv").val();url_update_order_quantity_draft=url_update_order_quantity_draft.replace(":id",e),$(".loader").fadeIn(),$("#preloder").fadeIn("slow"),$.ajax({url:url_update_order_quantity_draft,method:"POST",data:{_token:_token,order_quantity_draft:d,order_note_ktv:t},success:function(){$(".event-modal").fadeOut(),$(".loader").fadeOut(),$("#preloder").fadeOut("slow"),successMsg("Bạn đã cập nhật số Cas chụp thành công"),location.reload()}})})),$(document).on("click",".send_quantity_details",(function(){var e=$(".event-info").find(".event-id").text(),d=getValues();d.push({name:"_token",value:_token}),url_update_order_quantity_details=url_update_order_quantity_details.replace(":id",e),$(".loader").fadeIn(),$("#preloder").fadeIn("slow"),$.ajax({url:url_update_order_quantity_details,method:"POST",data:d,success:function(){$(".event-modal").fadeOut(),$(".loader").fadeOut(),$("#preloder").fadeOut("slow"),successMsg("Bạn đã cập nhật số Cas chụp thành công"),location.reload()}})})),$(document).on("click",".update-order",(function(){var e=$(".event-info").find(".event-id").text(),d=getValuesClone();d.push({name:"_token",value:_token}),url_update_order_schedule=url_update_order_schedule.replace(":id",e),$(".loader").fadeIn(),$("#preloder").fadeIn("slow"),$.ajax({url:url_update_order_schedule,method:"POST",data:d,success:function(){$(".event-modal").fadeOut(),$(".loader").fadeOut(),$("#preloder").fadeOut("slow"),successMsg("Bạn đã cập nhật thông tin đơn hàng thành công"),location.reload()}})}));